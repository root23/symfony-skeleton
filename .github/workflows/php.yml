name: PHP Composer

on:
  push:
    branches: [ "master" ]
  pull_request:
    branches: [ "master" ]

permissions:
  contents: read

jobs:
  build:

    runs-on: ubuntu-latest

    container:
      image: php:8.3-cli
    steps:
    - name: Checkout Repository
      uses: actions/checkout@v2

    - name: Install Dependencies
      run: |
        apt-get update && apt-get install -y \
        git \
        unzip \
        && rm -rf /var/lib/apt/lists/*
        curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer
        composer install --no-dev --prefer-dist --no-progress --no-suggest --no-interaction
